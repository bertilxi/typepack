module.exports=function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),n=o.resolve(process.cwd());t.paths={root:n,src:o.join(n,"./src"),output:o.join(n,"dist"),entry:{main:o.join(n,"./src/index.ts")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),n=function(){function e(){this.state={}}return e.prototype.setState=function(e){var t=this;Object.entries(e).forEach(function(e){var r=e[0],o=e[1];t.state[r]=o})},e.prototype.getState=function(){return this.state},e}();t.store=new n,t.bootstrap=function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];r.forEach(function(e){"object"==typeof e?t.store.setState(e):t.store.setState({arg:e})}),o.loadUserConfig(),t.store.getState().debug&&console.log(t.store.getState()),e.apply(void 0,r)}}},function(e,t){e.exports=require("path")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=r(2),s=r(12),i=r(1);t.dynamicRequire=require,t.getUserConfig=function(){var e=n.join(o.paths.root,"./typepack.ts");return s.existsSync(e)?t.dynamicRequire(e):{}},t.loadUserConfig=function(){var e=t.getUserConfig()||{};e=e.default||e,i.store.setState(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),n=r(1),s=r(0),i=r(20),u=[".tsx",".ts",".js",".jsx",".json"];t.default=function(){var e=n.store.getState(),t=e.env,r=e.mode,a=e.debug,l="production"!==t,c=r&&"node"===r,p={context:s.paths.root,mode:l?"development":"production",devtool:i.devtool(),entry:s.paths.entry,target:c?"node":"web",externals:c?[o.plugins.nodeExternals()]:[],resolve:{extensions:u},output:i.output(),optimization:i.optimization(),module:{rules:[{oneOf:i.oneOfRules()}]},plugins:[o.plugins.webpackbar(),o.plugins.friendlyErrors(),o.plugins.clean()].concat(c?[o.plugins.nodemon()]:[])};return a&&(console.log(p),console.log(JSON.stringify(p))),p}},function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(14)),s=o(r(15)),i=o(r(16)),u=o(r(17)),a=o(r(18)),l=r(2),c=r(0),p=o(r(19));t.plugins={nodeExternals:i.default,friendlyErrors:function(){return new n.default},clean:function(){return new s.default},nodemon:function(){return new u.default({script:l.join(c.paths.root,"./dist/index.js"),watch:l.join(c.paths.root,"./dist/**/*")})},terser:function(e){return new a.default(e)},webpackbar:function(){return new p.default({name:"Typepack",color:"#0052cc"})}}},function(e,t){e.exports=require("webpack")},function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(24));t.Logger={log:function(e){return console.log(n.default.blue(e))},error:function(e){return console.log(n.default.red(e))},warn:function(e){return console.log(n.default.yellow(e))},exit:function(e){console.log(n.default.red(e)),process.exit(1)}}},function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),r(9);var n=r(10).version,s=o(r(11)),i=r(1),u=o(r(13)),a=o(r(25));s.default("typepack").version(n).option("--debug, -d","Run CLI in debug mode").command("build").describe("Start production build").option("--env, -e","Build mode","production").action(i.bootstrap(u.default)).command("dev").describe("Start development server").option("--open, -o","Should the app be opened in the browser or not",!1).option("--port, -p","A port number to start the application",3e3).option("--env, -e","Build mode","development").action(i.bootstrap(a.default)).parse(process.argv)},function(e,t){e.exports=require("ts-node/register/transpile-only")},function(e){e.exports={name:"typepack",version:"0.3.0-test",main:"lib/cli.js",license:"MIT",homepage:"https://github.com/bertilxi/typepack",bugs:"https://github.com/bertilxi/typepack/issues",repository:{type:"git",url:"https://github.com/bertilxi/typepack.git"},keywords:["CLI","zero config","typescript","web","server"],bin:{tp:"./lib/cli.js",typepack:"./lib/cli.js"},scripts:{prebuild:"rimraf ./dist",build:"ts-node ./src/index.ts build",lint:"eslint './src/**/*.ts'","lint:fix":"eslint './src/**/*.ts' --fix"},dependencies:{autoprefixer:"^9.5.1","clean-webpack-plugin":"^2.0.1","css-loader":"^2.1.1","friendly-errors-webpack-plugin":"^1.7.0","html-loader":"^0.5.5","mini-css-extract-plugin":"^0.6.0","nodemon-webpack-plugin":"^4.0.8","postcss-loader":"^3.0.0",sade:"^1.4.2","style-loader":"^0.23.1","terser-webpack-plugin":"^1.2.3","ts-loader":"^5.3.3","ts-node":"^8.1.0",typescript:"^3.4.3","url-loader":"^1.1.2",webpack:"^4.30.0","webpack-dev-server":"^3.3.1","webpack-node-externals":"^1.7.2",webpackbar:"^3.1.5"},devDependencies:{"@types/node":"^11.13.4","@types/webpack":"^4.4.27","@typescript-eslint/eslint-plugin":"^1.6.0","@typescript-eslint/parser":"^1.6.0",eslint:"^5.16.0","eslint-config-prettier":"^4.1.0","eslint-plugin-prettier":"^3.0.1",fastify:"^2.2.0",prettier:"^1.17.0"}}},function(e,t){e.exports=require("sade")},function(e,t){e.exports=require("fs")},function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(4)),s=o(r(6)),i=r(7);t.default=function(){var e=n.default();s.default(e,function(e){e&&i.Logger.exit(e.message)})}},function(e,t){e.exports=require("friendly-errors-webpack-plugin")},function(e,t){e.exports=require("clean-webpack-plugin")},function(e,t){e.exports=require("webpack-node-externals")},function(e,t){e.exports=require("nodemon-webpack-plugin")},function(e,t){e.exports=require("terser-webpack-plugin")},function(e,t){e.exports=require("webpackbar")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=r(5),s=r(1),i=r(21);t.devtool=function(){var e=s.store.getState(),t=e.env;return!!e.sourceMaps&&("production"!==t?"cheap-module-eval-source-map":"source-map")},t.output=function(){var e=s.store.getState(),t=e.env,r=e.mode,n="production"!==t;return r&&"node"===r?{filename:"index.js",path:o.paths.output,libraryTarget:"commonjs2"}:{publicPath:"/",filename:n?"js/[name].js":"js/[name].[chunkhash].js",chunkFilename:n?"js/[id].js":"js/[id].[chunkhash].js",path:o.paths.output,libraryTarget:"umd",pathinfo:!1}},t.optimization=function(){var e=s.store.getState(),t=e.env,r=e.sourceMaps;return"production"!==t?{}:{removeAvailableModules:!1,removeEmptyChunks:!1,minimizer:[n.plugins.terser({cache:!0,parallel:!0,sourceMap:!!r,terserOptions:{mangle:!0,compress:!0,output:{comments:!1}}})],splitChunks:{chunks:"all"}}},t.oneOfRules=function(){var e=s.store.getState().mode;return e&&"node"===e?[i.rules.ts]:[i.rules.ts,i.rules.html,i.rules.styles,i.rules.fonts,i.rules.images,i.rules.media]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(22),n=r(0),s=r(3);t.rules={ts:{test:/\.tsx?$/,use:[o.loaders.ts()],include:n.paths.src,exclude:/(node_modules)/},html:{test:/\.(html)$/,use:[o.loaders.html()],include:n.paths.src,exclude:/node_modules/},styles:{test:/\.css$/,use:[o.loaders.style(),o.loaders.css(),o.loaders.postcss()]},images:{test:/\.(png|svg|jpg|gif)$/,loader:s.dynamicRequire.resolve("url-loader"),options:{limit:1e4,name:"images/[name].[hash:7].[ext]"}},fonts:{test:/\.(woff|woff2|eot|ttf|otf)$/,loader:s.dynamicRequire.resolve("url-loader"),options:{limit:1e4,name:"fonts/[name].[hash:7].[ext]"}},media:{test:/\.(mp4|webm|ogg|mp3|wav|flac|aac)(\?.*)?$/,loader:s.dynamicRequire.resolve("url-loader"),options:{limit:1e4,name:"media/[name].[hash:7].[ext]"}}}},function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),s=r(3),i=r(1),u=o(r(23));t.loaders={ts:function(){return{loader:s.dynamicRequire.resolve("ts-loader"),options:{context:n.paths.root,transpileOnly:!0,experimentalWatchApi:!0}}},html:function(){var e="production"!==i.store.getState().env;return{loader:s.dynamicRequire.resolve("html-loader"),options:{minimize:!e}}},style:function(){return{loader:"production"!==i.store.getState().env?s.dynamicRequire.resolve("style-loader"):u.default.loader}},css:function(){var e="production"!==i.store.getState().env;return{loader:s.dynamicRequire.resolve("css-loader"),options:{sourceMap:!e,importLoaders:1}}},postcss:function(){var e="production"!==i.store.getState().env;return{loader:s.dynamicRequire.resolve("postcss-loader"),options:{sourceMap:!e,plugins:[s.dynamicRequire("autoprefixer")]}}}}},function(e,t){e.exports=require("mini-css-extract-plugin")},function(e,t){e.exports=require("chalk")},function(e,t,r){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(r(4)),i=n(r(6)),u=r(2),a=n(r(26)),l=r(7),c=r(1),p=r(0);t.default=function(e){var t=c.store.getState(),r=t.mode,n=t.devServer,d=s.default();if("node"!==r){var f=e.port,m=e.open;d.devServer=o({},d.devServer,{contentBase:u.join(p.paths.root,"./assets"),open:m,host:"0.0.0.0",port:f,overlay:!0,inline:!0,quiet:!0,hot:!0,historyApiFallback:!0,proxy:n&&n.proxy});var v=new a.default(i.default(d),d.devServer);v.listen(f,"0.0.0.0",function(e){e&&(v.close(),l.Logger.exit(e.message))})}else i.default(d).watch({},function(e){e&&l.Logger.exit(e.message)})}},function(e,t){e.exports=require("webpack-dev-server")}]);