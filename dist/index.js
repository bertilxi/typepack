module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=n.resolve(process.cwd());t.paths={root:o,src:n.join(o,"./src"),output:n.join(o,"dist"),entry:{main:n.join(o,"./src/index.ts")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=function(){function e(){this.state={}}return e.prototype.setState=function(e){var t=this;Object.entries(e).forEach(function(e){var r=e[0],n=e[1];t.state[r]=n})},e.prototype.getState=function(){return this.state},e}();t.store=new o,t.bootstrap=function(e){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];r.forEach(function(e){"object"==typeof e?t.store.setState(e):t.store.setState({arg:e})}),n.loadUserConfig(),console.log(t.store.getState()),e.apply(void 0,r)}}},function(e,t){e.exports=require("path")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(2),i=r(12),s=r(1);t.dinamycRequire=require,t.getUserConfig=function(){var e=o.join(n.paths.root,"./typepack.ts");return i.existsSync(e)?t.dinamycRequire(e):{}},t.loadUserConfig=function(){var e=t.getUserConfig()||{};e=e.default||e,s.store.setState(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),o=r(1),i=r(0),s=r(19),u=r(20),a=[".tsx",".ts",".js",".jsx",".json"];t.default=function(){var e=o.store.getState(),t=e.env,r=e.mode,l=e.debug,c="production"!==t,p=r&&"node"===r,d={context:i.paths.root,mode:c?"development":"production",devtool:c?"eval":"source-map",entry:i.paths.entry,target:p?"node":"web",externals:p?[n.plugins.nodeExternals()]:[],resolve:{extensions:a},output:s.output(p),optimization:s.optimization(c),module:{rules:[{oneOf:[u.rules.ts]}]},plugins:[n.plugins.friendlyErrors(),n.plugins.clean()].concat(p?[n.plugins.nodemon()]:[])};return l&&(console.log(d),console.log(JSON.stringify(d))),d}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(14)),i=n(r(15)),s=n(r(16)),u=n(r(17)),a=n(r(18)),l=r(2),c=r(0);t.plugins={nodeExternals:s.default,friendlyErrors:function(){return new o.default},clean:function(){return new i.default},nodemon:function(){return new u.default({script:l.join(c.paths.root,"./dist/index.js"),watch:l.join(c.paths.root,"./dist/**/*")})},terser:function(e){return new a.default(e)}}},function(e,t){e.exports=require("webpack")},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(22));t.Logger={log:function(e){return console.log(o.default.blue(e))},error:function(e){return console.log(o.default.red(e))},warn:function(e){return console.log(o.default.yellow(e))},exit:function(e){console.log(o.default.red(e)),process.exit(1)}}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),r(9);var o=r(10).version,i=n(r(11)),s=r(1),u=n(r(13)),a=n(r(23));i.default("typepack").version(o).option("--debug, -d","Run CLI in debug mode").command("build").describe("Start production build").option("--env, -e","Build mode","production").action(s.bootstrap(u.default)).command("dev").describe("Start development server").option("--open, -o","Should the app be opened in the browser or not",!1).option("--port, -p","A port number to start the application",3e3).option("--env, -e","Build mode","development").action(s.bootstrap(a.default)).parse(process.argv)},function(e,t){e.exports=require("ts-node/register/transpile-only")},function(e){e.exports={name:"typepack",version:"0.3.0-test",main:"lib/cli.js",license:"MIT",homepage:"https://github.com/bertilxi/typepack",bugs:"https://github.com/bertilxi/typepack/issues",repository:{type:"git",url:"https://github.com/bertilxi/typepack.git"},keywords:["CLI","zero config","typescript","web","server"],bin:{tp:"./lib/cli.js",typepack:"./lib/cli.js"},scripts:{prebuild:"rimraf ./dist",build:"tsc"},dependencies:{"clean-webpack-plugin":"^2.0.1","friendly-errors-webpack-plugin":"^1.7.0","nodemon-webpack-plugin":"^4.0.8",sade:"^1.4.2","terser-webpack-plugin":"^1.2.3","ts-loader":"^5.3.3","ts-node":"^8.0.3",typescript:"^3.4.3",webpack:"^4.30.0","webpack-dev-server":"^3.3.1","webpack-node-externals":"^1.7.2"},devDependencies:{"@types/node":"^11.13.4","@types/webpack":"^4.4.27","@typescript-eslint/eslint-plugin":"^1.6.0","@typescript-eslint/parser":"^1.6.0",eslint:"^5.16.0","eslint-config-prettier":"^4.1.0","eslint-plugin-prettier":"^3.0.1",fastify:"^2.2.0",prettier:"^1.17.0"}}},function(e,t){e.exports=require("sade")},function(e,t){e.exports=require("fs")},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(4)),i=n(r(6)),s=r(7);t.default=function(){var e=o.default();i.default(e,function(e){e&&s.Logger.exit(e.message)})}},function(e,t){e.exports=require("friendly-errors-webpack-plugin")},function(e,t){e.exports=require("clean-webpack-plugin")},function(e,t){e.exports=require("webpack-node-externals")},function(e,t){e.exports=require("nodemon-webpack-plugin")},function(e,t){e.exports=require("terser-webpack-plugin")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(5),i=r(1);t.output=function(e){return e?{filename:"index.js",path:n.paths.output,libraryTarget:"commonjs2"}:{}},t.optimization=function(e){var t=i.store.getState().sourceMaps;return e?{}:{removeAvailableModules:!1,removeEmptyChunks:!1,minimizer:[o.plugins.terser({cache:!0,parallel:!0,sourceMap:!!t,terserOptions:{mangle:!0,compress:!0,output:{comments:!1}}})],splitChunks:{chunks:"all"}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21),o=r(0);t.rules={ts:{test:/\.tsx?$/,use:[n.loaders.ts],include:o.paths.src,exclude:/(node_modules)/}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(3);t.loaders={ts:{loader:o.dinamycRequire.resolve("ts-loader"),options:{context:n.paths.root,transpileOnly:!0,experimentalWatchApi:!0}}}},function(e,t){e.exports=require("chalk")},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(4)),s=o(r(6)),u=r(2),a=o(r(24)),l=r(7),c=r(1),p=r(0);t.default=function(e){var t=c.store.getState(),r=t.mode,o=t.devServer,d=i.default();if("node"!==r){var f=e.port,v=e.open;d.devServer=n({},d.devServer,{contentBase:u.join(p.paths.root,"./assets"),open:v,host:"0.0.0.0",port:f,overlay:!0,inline:!0,quiet:!0,hot:!0,historyApiFallback:!0,proxy:o&&o.proxy});var b=new a.default(s.default(d),d.devServer);b.listen(f,"0.0.0.0",function(e){e&&(b.close(),l.Logger.exit(e.message))})}else s.default(d).watch({},function(e){e&&l.Logger.exit(e.message)})}},function(e,t){e.exports=require("webpack-dev-server")}]);